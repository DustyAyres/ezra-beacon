{
	"info": {
		"_postman_id": "12345678-1234-1234-1234-123456789012",
		"name": "Ezra Beacon API - Dev Auth",
		"description": "Postman collection for testing Ezra Beacon API with development authentication bypass",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "dev-token",
				"type": "string"
			}
		]
	},
	"item": [
		{
			"name": "Tasks",
			"item": [
				{
					"name": "Get Task Counts",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/counts",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks",
								"counts"
							]
						},
						"description": "Get task counts for My Day, Important, Planned, and All views"
					}
				},
				{
					"name": "Get All Tasks",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks?view=all",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks"
							],
							"query": [
								{
									"key": "view",
									"value": "all",
									"description": "View type: myday, important, planned, all"
								},
								{
									"key": "sortBy",
									"value": "duedate",
									"disabled": true,
									"description": "Sort by: duedate, importance, alphabetically, creationdate"
								}
							]
						}
					}
				},
				{
					"name": "Get My Day Tasks",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks?view=myday",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks"
							],
							"query": [
								{
									"key": "view",
									"value": "myday"
								}
							]
						}
					}
				},
				{
					"name": "Get Important Tasks",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks?view=important",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks"
							],
							"query": [
								{
									"key": "view",
									"value": "important"
								}
							]
						}
					}
				},
				{
					"name": "Get Planned Tasks",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks?view=planned",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks"
							],
							"query": [
								{
									"key": "view",
									"value": "planned"
								}
							]
						}
					}
				},
				{
					"name": "Get Single Task",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/:taskId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks",
								":taskId"
							],
							"variable": [
								{
									"key": "taskId",
									"value": "{{taskId}}",
									"description": "Task ID (GUID)"
								}
							]
						}
					}
				},
				{
					"name": "Create Task",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"taskId\", jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Test Task from Postman\",\n    \"dueDate\": \"2024-12-31\",\n    \"isImportant\": true,\n    \"recurrenceType\": 0,\n    \"categoryId\": null\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tasks",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks"
							]
						}
					}
				},
				{
					"name": "Update Task",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Updated Task Title\",\n    \"isImportant\": false,\n    \"isCompleted\": false\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tasks/:taskId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks",
								":taskId"
							],
							"variable": [
								{
									"key": "taskId",
									"value": "{{taskId}}"
								}
							]
						}
					}
				},
				{
					"name": "Delete Task",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/:taskId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks",
								":taskId"
							],
							"variable": [
								{
									"key": "taskId",
									"value": "{{taskId}}"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "Task Steps",
			"item": [
				{
					"name": "Add Step to Task",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"stepId\", jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Step 1: Research\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tasks/:taskId/steps",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks",
								":taskId",
								"steps"
							],
							"variable": [
								{
									"key": "taskId",
									"value": "{{taskId}}"
								}
							]
						}
					}
				},
				{
					"name": "Update Step",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Step 1: Research (Updated)\",\n    \"isCompleted\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tasks/:taskId/steps/:stepId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks",
								":taskId",
								"steps",
								":stepId"
							],
							"variable": [
								{
									"key": "taskId",
									"value": "{{taskId}}"
								},
								{
									"key": "stepId",
									"value": "{{stepId}}"
								}
							]
						}
					}
				},
				{
					"name": "Delete Step",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/:taskId/steps/:stepId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks",
								":taskId",
								"steps",
								":stepId"
							],
							"variable": [
								{
									"key": "taskId",
									"value": "{{taskId}}"
								},
								{
									"key": "stepId",
									"value": "{{stepId}}"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "Categories",
			"item": [
				{
					"name": "Get All Categories",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/categories",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"categories"
							]
						}
					}
				},
				{
					"name": "Create Category",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"categoryId\", jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Work Projects\",\n    \"colorHex\": \"#4CAF50\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/categories",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"categories"
							]
						}
					}
				},
				{
					"name": "Update Category",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Work Projects - Updated\",\n    \"colorHex\": \"#2196F3\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/categories/:categoryId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"categories",
								":categoryId"
							],
							"variable": [
								{
									"key": "categoryId",
									"value": "{{categoryId}}"
								}
							]
						}
					}
				},
				{
					"name": "Delete Category",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/categories/:categoryId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"categories",
								":categoryId"
							],
							"variable": [
								{
									"key": "categoryId",
									"value": "{{categoryId}}"
								}
							]
						}
					}
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"pm.test(\"Status code is successful\", function () {",
					"    pm.expect(pm.response.code).to.be.oneOf([200, 201, 204]);",
					"});"
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:5000",
			"type": "string"
		},
		{
			"key": "taskId",
			"value": "",
			"type": "string"
		},
		{
			"key": "stepId",
			"value": "",
			"type": "string"
		},
		{
			"key": "categoryId",
			"value": "",
			"type": "string"
		}
	]
}
